<link rel="import" href="../../bower_components/polymer-redux/polymer-redux.html">

<script>
    const initialState = {
        languages: [{
            name: 'english',
            key: 'en'
        }, {
            name: 'spanish',
            key: 'es'
        }, {
            name: 'french',
            key: 'fr'
        }, {
            name: 'italian',
            key: 'it'
        }],
        languageSelected: 'en',
        contacts: []
    }

    function contacts(state = initialState, action) {
        switch (action.type) {
            case 'ADD_CONTACT': {
                const contacts = state.contacts.splice(0);
                contacts.push(action.name);
                return Object.assign({}, state, {contacts});
            }
            case 'CHANGE_LANGUAGE': {
                return Object.assign({}, state, {
                    languages: state.languages,
                    languageSelected: action.language,
                    contacts: state.contacts
                });
            }
            default: {
                return state;
            }
        }
    }

    const store = Redux.createStore(contacts);
    const ReduxMixin = PolymerRedux(store);
</script>
