<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">

<dom-module id="contacts-item">
    <template id="">
        <style>
            .container {
                margin: 0 auto;
                display: flex;
                flex-flow: row;
                width: 90%;
                height: calc(90% - 2px);
                background-color: #EBEBEB;
                border-bottom: 2px solid #2c3a44;
                margin-bottom: 10px;
            }

            .container:hover {
                cursor: pointer;
            }

            .profile {
                text-align: center;
                width: 40%;
                height: 100px;
                border-radius: 50%;
            }

            img {
                width: 50%;
                height: 100%;
                border-radius: 50%;
            }

            .information {
                width: 60%;
                margin-bottom: 10px;
            }

            p {
                margin: 0px;
                margin-top: 10px;
                margin-bottom: 10px;
                text-transform: capitalize;
            }
        </style>
        <div class="container">
            <div class="profile">
                <img src="[[contact.picture.large]]" alt="[[fullName]]">
            </div>
            <div class="information">
                <p>[[localize('NAME','name', fullName)]]</p>
                <p>[[localize('PHONE','phone', contact.cell)]]</p>
                <p>[[localize('EMAIL','email', contact.email)]]</p>
            </div>
        </div>
    </template>
    <script>
        (function contactsItemDefinition() {
            'use strict';

            class ContactsItem extends ReduxMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior], Polymer.Element)) {
                static get is() {
                    return 'contacts-item';
                }

                connectedCallback() {
                    super.connectedCallback();
                    this._changeLanguage();
                }

                static get properties() {
                    return {
                        language: {
                            statePath: 'languageSelected',
                            observer: '_changeLanguage'
                        },
                        prop: {
                            type: String,
                            value: 'Contact item'
                        },
                        fullName: {
                            computed: '_getFullName(contact.name)'
                        }
                    }
                }

                _changeLanguage() {
                    this.loadResources(this.resolveUrl(`../../locales/contacts-item/contacts-item_${this.language}.json`));
                }

                _getFullName(name) {
                    return `${name.title} ${name.last} ${name.first}`;
                }
            }

            customElements.define(ContactsItem.is, ContactsItem);
        })();
    </script>
</dom-module>
