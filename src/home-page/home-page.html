<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-swipeable-container/iron-swipeable-container.html">

<dom-module id="home-page">
    <template>
        <style>
            paper-card {
                cursor: pointer;
            }

            .container {
                padding-left: 40%;
                padding-right: 20%;
                width: 200px;
                display: flex;
                flex-direction: column;
                align-content: space-around;
            }
        </style>
        <div class="container">
            <iron-swipeable-container>
                <template is="dom-repeat" items="[[languages]]">
                    <paper-card image="../../offline_resources/[[item.key]].png" alt="[[item.key]]" key="[[item.key]]">
                        <div class="card-content">
                            [[item.name]]
                        </div>
                    </paper-card>
                </template>
            </iron-swipeable-container>
        </div>
    </template>
    <script>
        (function HomePageDefinition(customElements) {
            'use strict';

            class HomePage extends ReduxMixin(Polymer.GestureEventListeners(Polymer.Element)) {
                static get is() {
                    return 'home-page';
                }

                static get properties() {
                    return {
                        languages: {
                            type: Array,
                            statePath: 'languages'
                        }
                    };
                }

                static get actions() {
                    return {
                        changeLanguage(language) {
                            return {
                                type: 'CHANGE_LANGUAGE',
                                language
                            };
                        }
                    };
                }

                _handlerChangeLanguage(event) {
                    const changedLanguageKey = event.model.item.key;
                    this.dispatch('changeLanguage', changedLanguageKey);
                }
            }

            customElements.define(HomePage.is, HomePage);
        })(window.customElements);
    </script>
</dom-module>
